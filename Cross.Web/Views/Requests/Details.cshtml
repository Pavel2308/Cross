@model IEnumerable<Cross.Web.Models.Requests.IndexViewModel>

@if (Model.Count() == 0)
{
<h4 align="center">Желающих участвовать нет</h4>
}
else
{
    <h4>Список желающих участвовать</h4>
    <div>
        @Html.DisplayNameFor(model => model.DateTime):   @Html.DisplayFor(model => model.First().DateTime)<br />
        @Html.DisplayNameFor(model => model.Discipline):   @Html.DisplayFor(model => model.First().Discipline)<br />
        @Html.DisplayNameFor(model => model.RaceStatus):   @Html.DisplayFor(model => model.First().RaceStatus)<br />
        @Html.DisplayNameFor(model => model.RaceType):   @Html.DisplayFor(model => model.First().RaceType)<br />
        @Html.DisplayNameFor(model => model.Track):   @Html.DisplayFor(model => model.First().Track)<br />
        @Html.DisplayNameFor(model => model.Venue):   @Html.DisplayFor(model => model.First().Venue)<br />
        <br />
        @foreach (var group in Model.GroupBy(m => m.Status))
        {
            <h6>@group.Key</h6>
            <span>Количество: @group.Count()</span>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => group.First().User)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => group.First().LicensePlate)
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in group)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(model => item.User)
                            </td>
                            <td>
                                @Html.DisplayFor(model => item.LicensePlate)
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }

    </div>
}
